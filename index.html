<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="resources/favicon.ico">
    <title>Starter Template for Bootstrap</title>
    <link href="resources/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="resources/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <link href="resources/starter-template.css" rel="stylesheet">
    <script src="resources/assets/js/ie-emulation-modes-warning.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Аделя Закирова</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#portfolio" onclick="changeViewAndState(0);">Портфолио</a></li>
            <li><a href="#skills" onclick="changeViewAndState(1); ">Навыки</a></li>
            <li><a href="#samples" onclick="changeViewAndState(2);">Мои работ</a></li>
            <li><a href="#contacts" onclick="changeViewAndState(3);">Калькулятор</a></li>
            <li><a href="#contacts" onclick="changeViewAndState(4);">Контакты</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div style="position: fixed; top: 100px;right: 25px;">
    	<input class="btn" id="up" onclick="Up()" type="submit" name="" value="вверх" style="width: 70px;margin-bottom: 4px;" disabled=""><br />
    	<input class="btn" id="down" onclick="Down()" type="submit" name="" value="вниз" style="width: 70px; margin-bottom: 4px;" >
    </div>

    <section class="view" id="portfolio" style="height: 100vh;">
        <div class="container">
          <div class="starter-template">
            <h1>Портфолио</h1>
            <p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document.</p>
          </div>
        </div>
    </section>

    <section class="view pad" id="skills" style="height: 100vh;">
        <div class="container">
          <div class="starter-template">
            <h1>Навыки или что я умею</h1>
            <p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document.</p>
          </div>
        </div>
    </section>

    <section class="view pad" id="samples" style="height: 100vh;">
        <div class="container">
          <div class="starter-template">
            <h1>Примеры работ</h1>
            <p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document.</p>
          </div>
        </div>
    </section>

    <section class="view pad" id="calc" style="height: 100vh;">
        <div class="container">
          <div class="starter-template">
            <h1>Калькулятор</h1>
            <p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document.</p>
            <div class="main">

              <div class="filters">
                <ul id="filters-list">
                  <!--
                  <li>
                    <input checked="false" type="checkbox" value="landing-page">
                    <label>Landing Page</label>
                  </li>
                  <li>
                    <input checked="false" type="checkbox" value="blog">
                    <label>Блог</label>
                  </li>
                  <li>
                    <input checked="false" type="checkbox" value="site-cart">
                    <label>Визитка</label>
                  </li>
                  <li>
                    <input checked="false" type="checkbox" value="other">
                    <label>Разное</label>
                  </li>
                  -->
                </ul>

              </div>

              <div class="services">
                <div class="products">
                  <ul id="products-list">

                  </ul>
                </div>

                <div class="order">

                </div>

              </div>

            </div>
          </div>
        </div>
    </section>

    <section class="view pad" id="contacts" style="height: 100vh;">
        <div class="container">
          <div class="starter-template">
            <h1>Контакты</h1>
            <p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document.</p>
          </div>
        </div>
    </section>

    <script>
      var products = [
        {
          "name":"верстка",
          "price": 2500,
          "categories": [
            {
              "name": "landing-page",
              "included": true
            },
            {
              "name": "blog",
              "included": true
            },
            {
              "name": "site-cart",
              "included": true
            },
            {
              "name": "other",
              "included": true
            }
          ]
        },
        {
          "name":"роли",
          "price": 1000,
          "categories": [
            {
              "name": "landing-page",
              "included": false
            },
            {
              "name": "blog",
              "included": true
            },
            {
              "name": "site-cart",
              "included": false
            },
            {
              "name": "other",
              "included": true
            }
          ]
        },
        {
          "name":"социальные системы",
          "price": 1500,
          "categories": [
            {
              "name": "landing-page",
              "included": true
            },
            {
              "name": "blog",
              "included": true
            },
            {
              "name": "site-cart",
              "included": true
            },
            {
              "name": "other",
              "included": true
            }
          ]
        },
        {
          "name":"галерея",
          "price": 500,
          "categories": [
            {
              "name": "landing-page",
              "included": true
            },
            {
              "name": "blog",
              "included": false
            },
            {
              "name": "site-cart",
              "included": false
            },
            {
              "name": "other",
              "included": true
            }
          ]
        },
        {
          "name":"заглушка",
          "price": 1500,
          "categories": [
            {
              "name": "landing-page",
              "included": true
            },
            {
              "name": "blog",
              "included": false
            },
            {
              "name": "site-cart",
              "included": false
            },
            {
              "name": "other",
              "included": false
            }
          ]
        },
        {
          "name":"метрика",
          "price": 800,
          "categories": [
            {
              "name": "landing-page",
              "included": false

            },
            {
              "name": "blog",
              "included": false
            },
            {
              "name": "site-cart",
              "included": false
            },
            {
              "name": "other",
              "included": true
            }
          ]
        },
      ];

      var ul = document.getElementById("products-list");

/*
      for (var i = 0; i < products.length; i++){
        var value = products[i].name;
        var li = document.createElement("li");
        li.appendChild(document.createTextNode(value));
        ul.appendChild(li);
      }
*/


var ulFilters = document.getElementById("filters-list");

var templateProductCategories = products[0].categories || {};

for (var i = 0; i < templateProductCategories.length; i++){

  var name = templateProductCategories[i].name;

  var li = document.createElement("li");

  var input = document.createElement("input");
  input.type = "checkbox";
  input.value = name;

  var lable = document.createElement("lable");
  lable.textContent = name;

  li.appendChild(input);
  li.appendChild(lable);
  ulFilters.appendChild(li);

}

var checkedCategories = []; // add listener on add -- rerender ul products

(function(){
  var inputs = ulFilters.getElementsByTagName('input');
  for(var i = 0; i < inputs.length; i++){
    inputs[i].addEventListener('change',handler,false);
  };
  function handler(e){
    console.log(e);
    checkedCategories.push(e.target.value);
    var x = e.target; // Get the link that was clicked

    e.preventDefault();
  };
})();

function inCheckedCategories(element){
  var productCategories = element.categories;
  var arrayCategories = productCategories.map((e)=>{e.name});

  arrayCategories.indexOf()

  checkedCategories.indexOf()

}

function render(){

	var filteredProducts = products.filter(inCheckedCategories);

console.log(filteredProducts);

      for (var i = 0; i < products.length; i++){
        var value = products[i].name;
        var li = document.createElement("li");
        li.appendChild(document.createTextNode(value));
        ul.appendChild(li);
      }
}



      var checkboxes = document.getElementsByTagName('input');

      for (var i=0; i < checkboxes.length; i++)  {
          if (checkboxes[i].type == 'checkbox')   {
                checkboxes[i].checked = false;
              }
      }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="resources/dist/js/bootstrap.min.js"></script>
    <script src="resources/assets/js/ie10-viewport-bug-workaround.js"></script>
    <script src="./resources/main.js"></script>
    <script src="./resources/calc.js"></script>
  </body>
</html>
